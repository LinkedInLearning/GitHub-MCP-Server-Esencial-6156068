<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Contacto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #alerta {
            display: none;
        }

        #errorImagen {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="mt-5 col-md-8">
            <h2 class="mb-4">Formulario de Contacto</h2>
            <form id="contactForm" autocomplete="on">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" id="nombre" name="nombre" class="form-control" required>

                <label for="apellidos" class="form-label">Apellidos</label>
                <input type="text" id="apellidos" name="apellidos" class="form-control" required>

                <label for="correo" class="form-label">Correo electrónico</label>
                <input type="email" id="correo" name="correo" class="form-control" required>

                <label for="comentario" class="form-label">Comentario</label>
                <textarea id="comentario" name="comentario" class="form-control" rows="4" required></textarea>

                <label for="imagen" class="form-label mt-3">Subir imagen</label>
                <input type="file" id="imagen" name="imagen" class="form-control"
                    accept="image/jpeg,image/png,image/gif" required>
                <div class="alert alert-danger mt-2" id="errorImagen" role="alert">
                    Solo se permiten archivos de imagen (jpg, jpeg, png, gif).
                </div>

                <button type="submit" class="btn btn-primary mt-3">Enviar</button>
            </form>
            <div class="alert alert-success" id="alerta" role="alert">¡Formulario enviado correctamente!</div>
        </div>
    </div>
    <script>
        document.getElementById('imagen').addEventListener('change', function (e) {
            const file = e.target.files[0];
            const errorDiv = document.getElementById('errorImagen');
            if (file && !['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {
                errorDiv.style.display = 'block';
                e.target.value = '';
            } else {
                errorDiv.style.display = 'none';
            }
        });

        document.getElementById('contactForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const imagenInput = document.getElementById('imagen');
            const file = imagenInput.files[0];
            const errorDiv = document.getElementById('errorImagen');
            if (!file || !['image/jpeg', 'image/png', 'image/gif'].includes(file.type)) {
                errorDiv.style.display = 'block';
                return;
            }
            errorDiv.style.display = 'none';
            document.getElementById('alerta').style.display = 'block';
            setTimeout(() => {
                document.getElementById('alerta').style.display = 'none';
                e.target.reset();
            }, 2500);
        });
    </script>
</body>

</html>